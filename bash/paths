#!/usr/bin/env bash


# define append_path and prepend_path to add directory paths, e.g. PATH, MANPATH.
# add to end of path
append_path()
{
  if ! eval test -z "\"\${$1##*:$2:*}\"" -o -z "\"\${$1%%*:$2}\"" -o -z "\"\${$1##$2:*}\"" -o -z "\"\${$1##$2}\"" ; then
    eval "$1=\$$1:$2"
  fi
}

# add to front of path
prepend_path()
{
  if ! eval test -z "\"\${$1##*:$2:*}\"" -o -z "\"\${$1%%*:$2}\"" -o -z "\"\${$1##$2:*}\"" -o -z "\"\${$1##$2}\"" ; then
    eval "$1=$2:\$$1"
  fi
}

###########################################################################
#
# PATH
#
export PATH_HOME=$HOME/bin:$HOME/slice/bin
export PATH_LOCL=/usr/local/bin
export MPTH_LOCL=/usr/local/man
export CORE_PATH=/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/git/bin:/usr/X11/bin:/usr/X11R6/bin
export OSX_PATH=/Applications/MAMP/Library/bin:/usr/local/git/bin
export OSX_MPTH=/sw/share/man:/Applications/MAMP/Library/man
export LINUX_PATH=/public/bin
export LINUX_MPTH=/public/bin:/opt/local/bin

# Use the ruby in /usr/local
# export GEM_PATH=/usr/local/lib/ruby/gems/1.8:/Library/Ruby/Gems/1.8/:/System/Library/Frameworks/Ruby.framework/Versions/Current/usr/lib/ruby/gems/1.8/
# export RUBY_SOURCE_DIR=/usr/local/bin/ruby
export RUBYLIB=$HOME/.rubylib

if   [ "$MACHINE" == "OSX" ] ; then
  append_path  PATH    $OSX_PATH ;
  append_path  MANPATH $OSX_MPTH ;
  prepend_path PATH    /sw/bin   ;
elif [ "$MACHINE" == "Linux" ] ; then
  append_path PATH    $LINUX_PATH ;
  append_path MANPATH $LINUX_MPTH ;
fi
prepend_path MANPATH $MPTH_LOCL
prepend_path PATH    $PATH_LOCL
prepend_path PATH    $PATH_HOME

PKG_CONFIG_PATH_OSX="/sw/lib/pkgconfig:/sw/share/pkgconfig"
PKG_CONFIG_PATH_MATH="/public/lib/pkgconfig:/public/share/pkgconfig"

export PKG_CONFIG_PATH="/usr/local/lib/pkgconfig:/usr/local/share/pkgconfig:$PKG_CONFIG_PATH_OSX:$PKG_CONFIG_PATH_MATH:/usr/lib/pkgconfig:/usr/share/pkgconfig:/usr/X11R6/lib/pkgconfig"
export PERL5LIB=/public/share/perl/lib:/public/share/perl:/usr/local/lib/perl5/site_perl:/usr/share/perl/:/usr/lib/perl:/usr/lib/perl5
export WUKONG_PATH=${HOME}/ics/wukong/lib:${HOME}/ics/wuclan/lib:${HOME}/ics/monkeyshines/lib
export WUKONG_PATH=$HOME/ics/wukong/lib:$HOME/ics/wuclan/lib:$HOME/ics/monkeyshines/lib

###########################################################################
#
# Amazon EC2 Setup
#
export AWS_USER_ID='484232731444'
export AWS_ACCESS_KEY_ID=02S6Y1EFA7ZZ7KCZH3G2
export EC2_PRIVATE_KEY=~/.aws/infochimps/pk.pem 
export EC2_CERT=~/.aws/infochimps/cert.pem  
export EC2_HOME=/usr/local/share/ec2-api-tools
export EC2_AMITOOL_HOME=/usr/local/share/ec2-ami-tools

if   [ "$MACHINE" == "OSX" ] ; then
  export EC2_AMITOOL_HOME=/usr/local/share/ec2-ami-tools
  export JAVA_HOME=${JAVA_HOME-/System/Library/Frameworks/JavaVM.framework/Versions/1.6.0/Home}
elif [ "$MACHINE" == "Linux" ] ; then
  # On linux, it's installed via apt, so lives in /usr/bin/...
  export JAVA_HOME=${JAVA_HOME-/usr/lib/jvm/java-6-sun/jre}
fi
append_path PATH $EC2_HOME/bin
append_path PATH $EC2_AMITOOL_HOME/bin
